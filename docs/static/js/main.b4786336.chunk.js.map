{"version":3,"sources":["services/GetApiData.js","services/local-storage.js","components/Character.js","components/CharacterList.js","components/FilterN.js","components/FilterSpecies.js","components/Filter.js","components/CharacterDetails.js","components/App.js","index.js"],"names":["GetApiData","fetch","then","response","json","data","results","map","user","id","name","image","species","status","origin","episodes","episode","length","LsToExport","get","key","defaultData","localStorage","getItem","JSON","parse","set","value","setItem","stringify","Character","props","to","className","src","alt","title","CharacterList","userElements","users","FilterN","htmlFor","type","filterName","onChange","ev","preventDefault","handleFilter","target","FilterSpecies","filterSpecies","Filter","CharacterDetails","class","App","usersLocalStorage","ls","useState","setUsers","setFilterName","setFilterSpecies","useEffect","userData","filteredUsers","filter","toLowerCase","includes","console","log","exact","path","render","routeChId","parseInt","match","params","userId","foundCharacter","find","undefined","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.b4786336.chunk.js","sourcesContent":["//import React from \"react\";\r\n\r\nconst urlFetch = \"https://rickandmortyapi.com/api/character\";\r\n\r\nconst GetApiData = () => {\r\n  return fetch(urlFetch)\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      const CleanData = data.results.map((user) => {\r\n        return {\r\n          id: user.id,\r\n          name: user.name,\r\n          image: user.image,\r\n          species: user.species,\r\n          status: user.status,\r\n          origin: user.origin.name,\r\n          episodes: user.episode.length,\r\n        };\r\n      });\r\n      return CleanData;\r\n    });\r\n};\r\n\r\nexport default GetApiData;\r\n","//import React from \"react\";\r\n\r\nconst get = (key, defaultData) => {\r\n  const data = localStorage.getItem(key);\r\n  if (data === null) {\r\n    return defaultData;\r\n  } else {\r\n    return JSON.parse(data);\r\n  }\r\n};\r\n\r\nconst set = (key, value) => {\r\n  localStorage.setItem(key, JSON.stringify(value));\r\n};\r\nconst LsToExport = {\r\n  get: get,\r\n  set: set,\r\n};\r\n\r\nexport default LsToExport;\r\n","import React from \"react\";\r\nimport \"../stylesheets/Character.scss\";\r\nimport { Link, Route, Switch } from \"react-router-dom\";\r\n\r\nconst Character = (props) => {\r\n  return (\r\n    <Link to={`/character/${props.user.id}`}>\r\n      <article className=\"character__card\">\r\n        <img\r\n          className=\"card__img\"\r\n          src={props.user.image}\r\n          alt={`Foto de ${props.user.name}`}\r\n          title={`Foto de ${props.user.name}`}\r\n        />\r\n        <h4 className=\"card__title\">Name: {props.user.name}</h4>\r\n        <section className=\"card__description\">\r\n          <h5 className=\"card__description--1\">\r\n            Species: {props.user.species}\r\n          </h5>\r\n          <h5 className=\"card__description--2\"> Status: {props.user.status}</h5>\r\n        </section>\r\n      </article>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default Character;\r\n","import React from \"react\";\r\nimport Character from \"./Character\";\r\n\r\nimport \"../stylesheets/CharacterList.scss\";\r\n\r\nconst CharacterList = (props) => {\r\n  const userElements = props.users.map((user) => {\r\n    return (\r\n      <li key={user.id}>\r\n        <Character user={user} />\r\n      </li>\r\n    );\r\n  });\r\n  if (props.users.length === 0) {\r\n    return (\r\n      <>\r\n        <div className=\"warning__container\">\r\n          <p className=\"warning__text\"> Damn! Character not found, sorry.</p>\r\n        </div>\r\n      </>\r\n    );\r\n  } else {\r\n    return (\r\n      <section>\r\n        <ul className=\"character__list\">{userElements}</ul>\r\n      </section>\r\n    );\r\n  }\r\n};\r\n\r\nexport default CharacterList;\r\n","import React from \"react\";\r\nimport \"../stylesheets/FilterN.scss\";\r\n\r\nconst FilterN = (props) => {\r\n  const handleChange = (ev) => {\r\n    ev.preventDefault();\r\n    props.handleFilter({\r\n      value: ev.target.value,\r\n      key: \"name\",\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <label className=\"form__label\" htmlFor=\"name\">\r\n        Filter by name:\r\n      </label>\r\n      <input\r\n        className=\"form__input\"\r\n        type=\"text\"\r\n        name=\"name\"\r\n        id=\"name\"\r\n        value={props.filterName}\r\n        onChange={handleChange}\r\n      />\r\n    </>\r\n  );\r\n};\r\nexport default FilterN;\r\n","import React from \"react\";\r\nimport \"../stylesheets/FilterN.scss\";\r\n\r\nconst FilterSpecies = (props) => {\r\n  const handleChange = (ev) => {\r\n    props.handleFilter({\r\n      value: ev.target.value,\r\n      key: \"species\",\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <label className=\"form__label\" htmlFor=\"species\">\r\n        Género:\r\n      </label>\r\n\r\n      <select\r\n        className=\"form__input species\"\r\n        name=\"species\"\r\n        id=\"species\"\r\n        value={props.filterSpecies}\r\n        onChange={handleChange}\r\n      >\r\n        <option value=\"\">All</option>\r\n        <option value=\"Human\">Human</option>\r\n        <option value=\"Alien\">Alien</option>\r\n      </select>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FilterSpecies;\r\n","import React from \"react\";\r\nimport FilterN from \"./FilterN\";\r\nimport FilterSpecies from \"./FilterSpecies\";\r\n\r\nconst Filter = (props) => {\r\n  return (\r\n    <section>\r\n      <form>\r\n        <FilterN\r\n          handleFilter={props.handleFilter}\r\n          filterName={props.filterName}\r\n        />\r\n        <FilterSpecies\r\n          handleFilter={props.handleFilter}\r\n          filterSpecies={props.filterSpecies}\r\n        />\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport \"../stylesheets/characterDetail.scss\";\r\n\r\nconst CharacterDetails = (props) => {\r\n  const makeDead = () => {\r\n    if (props.user.status === \"Dead\") {\r\n      return \"fas fa-dizzy\";\r\n    } else if (props.user.status === \"Alive\") {\r\n      return \"fas fa-smile-wink\";\r\n    } else {\r\n      return \"fas fa-question-circle\";\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"character__container\">\r\n      <article className=\"character__detail\">\r\n        <img\r\n          className=\"detail__img\"\r\n          src={props.user.image}\r\n          alt={`Foto de ${props.user.name}`}\r\n          title={`Foto de ${props.user.name}`}\r\n        />\r\n\r\n        <section className=\"card__description\">\r\n          <h4 className=\"card__titleD\">Name: {props.user.name}</h4>\r\n          <ul className=\"card__details\">\r\n            <li className=\"card__details--item\">\r\n              Species: {props.user.species}\r\n            </li>\r\n            <li className=\"card__details--item \">\r\n              Status: {props.user.status}\r\n              <i class={`${makeDead()}`}></i>\r\n            </li>\r\n            <li className=\"card__details--item\">Origin: {props.user.origin}</li>\r\n            <li className=\"card__details--item\">\r\n              Number of episodes: {props.user.episodes}\r\n            </li>\r\n          </ul>\r\n        </section>\r\n      </article>\r\n      <Link className=\"backToHomepage\" to=\"/\">\r\n        Go back to the Homepage\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CharacterDetails;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, Route, Switch } from \"react-router-dom\";\r\n// services\r\nimport GetApiData from \"../services/GetApiData\";\r\nimport ls from \"../services/local-storage\";\r\n//components\r\nimport CharacterList from \"./CharacterList\";\r\nimport Filter from \"./Filter\";\r\nimport CharacterDetails from \"./CharacterDetails\";\r\n//style\r\nimport \"../stylesheets/App.scss\";\r\n\r\nconst App = () => {\r\n  const usersLocalStorage = ls.get(\"users\", []); //el segundo parámetro corresponde a defaultData\r\n  const [users, setUsers] = useState(usersLocalStorage);\r\n  const [filterName, setFilterName] = useState(ls.get(\"filterName\", \"\")); //string vacío hace que nos muestre todos los personajes.\r\n  const [filterSpecies, setFilterSpecies] = useState(\r\n    ls.get(\"filterSpecies\", \"\")\r\n  );\r\n  useEffect(() => {\r\n    if (users.length === 0) {\r\n      GetApiData().then((userData) => {\r\n        setUsers(userData);\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    ls.set(\"users\", users);\r\n  }, [users]); //guardo en en el array siempre que cambia users\r\n\r\n  useEffect(() => {\r\n    ls.set(\"filterName\", filterName);\r\n  }, [filterName]);\r\n\r\n  useEffect(() => {\r\n    ls.set(\"filterSpecies\", filterSpecies);\r\n  }, [filterSpecies]);\r\n\r\n  const handleFilter = (data) => {\r\n    console.log(data);\r\n    if (data.key === \"name\") {\r\n      console.log(data.value);\r\n      setFilterName(data.value);\r\n    } else if (data.key === \"species\") {\r\n      console.log(data.value);\r\n      setFilterSpecies(data.value);\r\n    }\r\n  };\r\n  // render\r\n  const filteredUsers = users\r\n    .filter((user) => {\r\n      return user.name.toLowerCase().includes(filterName.toLowerCase());\r\n    })\r\n    .filter((user) => {\r\n      return filterSpecies === \"\" ? true : user.species === filterSpecies;\r\n    });\r\n\r\n  //console.log(filteredUsers);\r\n  //console.log(\"State filterName:\", filterName);\r\n  console.log(\"State filterSpecies:\", filterSpecies);\r\n\r\n  const renderCharacterDetail = (props) => {\r\n    const routeChId = parseInt(props.match.params.userId);\r\n    const foundCharacter = users.find((user) => {\r\n      return user.id === routeChId;\r\n    });\r\n    console.log(\"Router props\", props.match.params.userId);\r\n    if (foundCharacter !== undefined) {\r\n      return <CharacterDetails user={foundCharacter} />;\r\n    } else {\r\n      return (\r\n        <>\r\n          <div className=\"unfinded__container\">\r\n            <p className=\"unfinded__text\"> Damn! Character not found, sorry.</p>\r\n            <Link className=\"unfinded__homepage\" to=\"/\">\r\n              Go back to the Homepage\r\n            </Link>\r\n          </div>\r\n        </>\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"App\">\r\n        <img\r\n          className=\"logo\"\r\n          src=\"https://help.redbubble.com/hc/article_attachments/360002309526/Rick_and_Morty_-_logo__English_.png\"\r\n          alt=\"Logo Rick and Morty\"\r\n        ></img>\r\n\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Filter\r\n              handleFilter={handleFilter}\r\n              filterName={filterName}\r\n              filterSpecies={filterSpecies}\r\n            />\r\n            <CharacterList users={filteredUsers} />\r\n          </Route>\r\n          <Route\r\n            exact\r\n            path=\"/character/:userId\"\r\n            render={renderCharacterDetail}\r\n          />\r\n        </Switch>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport \"./stylesheets/index.scss\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}